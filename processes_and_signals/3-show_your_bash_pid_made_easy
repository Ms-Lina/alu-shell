#!/usr/bin/env bash
# Display the PID and process name of processes containing the word "bash."

# Get the PID of the script itself
script_pid=$$

# Iterate over each process directory in /proc
for pid_dir in /proc/*/; do
  # Extract the PID from the directory path
  pid=$(basename "$pid_dir")
  
  # Skip if it's the script's own PID or not a numeric value
  if [[ "$pid" != "$script_pid" && "$pid" =~ ^[0-9]+$ ]]; then
    # Get the process name from the cmdline file
    process_name=$(cat "$pid_dir/cmdline" 2>/dev/null)
    
    # Check if the process name contains "bash"
    if [[ "$process_name" =~ .*bash.* ]]; then
      echo "$pid $process_name"
    fi
  fi
done
