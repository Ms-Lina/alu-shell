#!/usr/bin/env bash
# This script groups visitors by IP and HTTP status code, and displays the data.

# Define the path to the Apache log file
log_file="apache-access.log"

# Check if the log file exists
if [ -e "$log_file" ]; then
    # Use awk to group, count, and format the data
    awk '{count[$1" "$9]++} END {for (item in count) {split(item, arr); print count[item], arr[1], arr[2]}}' "$log_file" | sort -nr
else
    echo "Error: $log_file does not exist."
fi
